<div class="container">
    <div class="form-box">
        <form class="form" #clientesFrm="ngForm">
            <h2>Question치rios Respondidos</h2>
            <label>Funcion치rio:</label>
            <mat-form-field class="example-full-width">
                <mat-label>Funcionario</mat-label>
                <input type="text" (blur)="getTitles()"
                    placeholder="Funcion치rio"
                    aria-label="Funcion치rio"
                    matInput
                    [formControl]="myControl"
                    [matAutocomplete]="auto">
                <mat-autocomplete #auto="matAutocomplete" [displayWith]="displayFn">
                @for (option of filteredOptions | async; track option) {
                    <mat-option [value]="option" >{{option.name}}</mat-option>
                }
                </mat-autocomplete>
            </mat-form-field>

            <label>Titulo:</label>
            <select matNativeControl [(ngModel)]="selectedTitulo" name="titulo" (change)="getQuestionsAndAnswers($event)">
                @for (titulo of titulos; track titulo) {
                    <option [value]="titulo.id">{{titulo.descricao}}</option>
                }
            </select>

            @if (respostas !== undefined) {
                @for (resposta of respostas; track $index) {
                    <div class="pergunta"><span>Pergunta:</span> {{resposta.pergunta?.descricao}} </div>
                    <div class="resposta"><span>Resposta:</span> {{resposta.description}} </div>
                }
            }

        </form>
    </div>

    
</div>
